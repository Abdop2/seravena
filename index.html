<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¹Ø§Ù„Ù… Ø­Ø¨Ù†Ø§ - Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø¨Ø¯Ùˆ Ù„Ù…Ù†Ø© ğŸ’Œ</title>
  <meta name="description" content="Ø±Ø³Ø§Ø¦Ù„ Ø­Ø¨ ÙˆØ¹Ø´Ù‚ Ù…Ù† Ø¹Ø¨Ø¯Ùˆ Ù„Ø­Ø¨ÙŠØ¨ØªÙ‡ Ù…Ù†Ø©">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-color: #e91e63;
      --primary-dark: #c2185b;
      --secondary-color: #ff4081;
      --accent-color: #ff80ab;
      --accent-light: #ffb2d0;
      --text-color: #fff;
      --bg-gradient-day: linear-gradient(135deg, #FF358A 0%, #FF734A 100%);
      --bg-gradient-night: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
      --container-bg-day: rgba(255, 255, 255, 0.15);
      --container-bg-night: rgba(0, 0, 0, 0.4);
      --shadow-day: 0 8px 32px rgba(233, 30, 99, 0.3);
      --shadow-night: 0 8px 32px rgba(102, 51, 153, 0.5);
      --transition: all 0.3s ease;
      --transition-slow: all 0.6s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background: var(--bg-gradient-day);
      color: var(--text-color);
      min-height: 100vh;
      overflow-x: hidden;
      transition: var(--transition);
      position: relative;
      line-height: 1.6;
    }

    body.night-mode {
      background: var(--bg-gradient-night);
    }

    /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    .container {
      width: 90%;
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--container-bg-day);
      backdrop-filter: blur(8px);
      border-radius: 25px;
      box-shadow: var(--shadow-day);
      position: relative;
      z-index: 10;
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .night-mode .container {
      background: var(--container-bg-night);
      box-shadow: var(--shadow-night);
      border-color: rgba(0, 0, 0, 0.1);
    }

    h1 {
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      margin-bottom: 1.5rem;
      color: var(--text-color);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      font-weight: 700;
      text-align: center;
    }

    .message-container {
      min-height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      position: relative;
    }

    #loveMessage {
      font-size: clamp(1.2rem, 3vw, 1.5rem);
      line-height: 1.8;
      margin: 1.5rem 0;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      font-weight: 500;
      text-align: center;
      transition: var(--transition);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .footer {
      font-size: clamp(1rem, 2vw, 1.2rem);
      margin-top: 1.5rem;
      opacity: 0.9;
      text-align: center;
    }

    .love-timer {
      background: rgba(255, 255, 255, 0.2);
      padding: 0.8rem;
      border-radius: 15px;
      margin-top: 1.5rem;
      font-size: clamp(0.9rem, 2vw, 1.1rem);
      text-align: center;
      backdrop-filter: blur(5px);
    }

    /* ØªØ­Ø³ÙŠÙ† ØªØµÙ…ÙŠÙ… Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ */
    .navigation {
      display: flex;
      justify-content: center;
      margin-bottom: 1rem;
      gap: 1rem;
      flex-wrap: wrap;
      position: relative;
    }

    .nav-btn {
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 50px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      font-family: 'Tajawal', sans-serif;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .nav-btn.active {
      background: var(--primary-color);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
      transform: translateY(-2px);
    }

    /* Ø²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ */
    .mode-toggle-container {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
    }

    .toggle-night {
      background: rgba(255, 255, 255, 0.3);
      border: none;
      color: white;
      padding: 0.6rem 1rem;
      border-radius: 50px;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      font-size: 0.9rem;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      backdrop-filter: blur(5px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .toggle-night:hover {
      background: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .night-mode .toggle-night {
      background: rgba(0, 0, 0, 0.3);
    }

    .night-mode .toggle-night:hover {
      background: rgba(0, 0, 0, 0.5);
    }

    /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·ÙÙˆ */
    .floating-elements {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .floating-element {
      position: absolute;
      animation: float linear infinite;
      opacity: 0.8;
      user-select: none;
      will-change: transform;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    /* Ø§Ù†ØªØ±Ùˆ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
    .intro-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--primary-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: all 0.8s ease;
      opacity: 1;
    }

    .intro-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .intro-text {
      font-size: clamp(2rem, 6vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 2rem;
      text-align: center;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      transform: scale(0.9);
      animation: pulse 2s infinite alternate;
    }

    @keyframes pulse {
      0% {
        transform: scale(0.9);
      }
      100% {
        transform: scale(1.1);
      }
    }

    .loading-bar {
      width: 80%;
      max-width: 300px;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      overflow: hidden;
    }

    .loading-progress {
      height: 100%;
      width: 0%;
      background: white;
      border-radius: 10px;
      transition: width 0.3s ease;
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù„Ù…Ø³ */
    .touch-effect {
      position: absolute;
      font-size: 1.8rem;
      font-weight: bold;
      pointer-events: none;
      z-index: 100;
      animation: fadeUp 1.5s ease-out forwards;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      will-change: transform, opacity;
    }

    @keyframes fadeUp {
      0% {
        opacity: 1;
        transform: translateY(0);
      }
      100% {
        opacity: 0;
        transform: translateY(-100px);
      }
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ */
    .heart-explosion {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      will-change: transform, opacity;
    }

    .heart-explosion.active {
      animation: heartExplosion 1.2s ease-out forwards;
    }

    @keyframes heartExplosion {
      0% {
        transform: scale(0.3);
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    .big-heart {
      font-size: 10rem;
      color: var(--primary-color);
      filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.8));
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¨Ø±Ù‚ */
    .lightning {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, rgba(255,255,255,0.8)0%, transparent 80%);
      opacity: 0;
      pointer-events: none;
      animation: flash 5s infinite;
      z-index: 10000;
    }

    @keyframes flash {
      0%, 100% { opacity: 0; }
      10% { opacity: 0.4; }
      11% { opacity: 0; }
      20% { opacity: 0.3; }
      21% { opacity: 0; }
    }

    /* Ø§Ù„Ù†Ø¬ÙˆÙ… */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 2;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 5s infinite;
      will-change: opacity;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }

    /* Ø§Ù„Ø®Ø· Ø§Ù„Ø²Ù…Ù†ÙŠ */
    .timeline {
      margin-top: 2rem;
      padding: 1rem;
      border-left: 3px solid var(--accent-color);
    }

    .timeline-event {
      margin-bottom: 1rem;
      padding-left: 1rem;
      position: relative;
      transition: var(--transition);
      opacity: 0;
      transform: translateX(20px);
    }

    .timeline-event.animated {
      opacity: 1;
      transform: translateX(0);
    }

    .timeline-event::before {
      content: "ğŸ’˜";
      position: absolute;
      left: -1.2rem;
      top: 0;
    }

    .timeline-event h4 {
      margin: 0;
      font-size: 1.1rem;
    }

    .timeline-event p {
      margin: 0.2rem 0;
      font-size: 0.95rem;
      opacity: 0.9;
    }

    /* Ø§Ù„Ø´Ù‡Ø§Ø¨ */
    .shooting-star {
      position: fixed;
      width: 3px;
      height: 100px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.8), transparent);
      animation: shoot 2s linear;
      z-index: 9999;
      will-change: transform, opacity;
    }

    @keyframes shoot {
      0% { top: -100px; left: 100vw; opacity: 1; }
      100% { top: 100vh; left: -100px; opacity: 0; }
    }

    /* ØªØ­Ø³ÙŠÙ† ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø´ÙƒÙ„ ÙÙ‚Ø§Ø¹Ø§Øª */
    .btn {
      padding: 0.8rem 1.8rem;
      border: none;
      border-radius: 50px;
      background: var(--primary-color);
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
      font-family: 'Tajawal', sans-serif;
      display: inline-block;
      text-align: center;
      margin: 0.5rem;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
      position: relative;
      overflow: hidden;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-container {
      text-align: center;
      margin-top: 1rem;
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
    .messages-section {
      margin-top: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(5px);
    }

    .messages-section h2 {
      text-align: center;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
    }

    .message-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .message-input {
      padding: 1rem;
      border-radius: 15px;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      font-family: 'Tajawal', sans-serif;
      font-size: 1rem;
      resize: none;
      min-height: 100px;
      transition: var(--transition);
    }

    .message-input:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--primary-color);
    }

    .sender-selector {
      display: flex;
      gap: 1rem;
      justify-content: center;
    }

    .sender-btn {
      flex: 1;
      padding: 0.8rem;
      border: none;
      border-radius: 50px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      font-family: 'Tajawal', sans-serif;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .sender-btn.active {
      background: var(--primary-color);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .messages-list {
      margin-top: 2rem;
      max-height: 400px;
      overflow-y: auto;
      padding: 1rem;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 15px;
    }

    .message-item {
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(5px);
      animation: fadeIn 0.5s ease;
      transition: var(--transition);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .message-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .message-sender {
      font-weight: bold;
    }

    .message-time {
      font-size: 0.8rem;
    }

    .message-content {
      font-size: 1rem;
      line-height: 1.5;
    }

    .message-from-abdo {
      border-right: 3px solid var(--primary-color);
    }

    .message-from-menna {
      border-right: 3px solid #4CAF50;
    }

    /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª */
    .page {
      display: none;
    }

    .page.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    /* Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .gallery-item {
      height: 150px;
      border-radius: 15px;
      overflow: hidden;
      position: relative;
      cursor: pointer;
      transition: var(--transition);
      background: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
    }

    .gallery-item:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© */
    .love-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3;
    }

    .particle {
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--accent-color);
      animation: particleFloat 10s linear infinite;
      opacity: 0;
    }

    @keyframes particleFloat {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    .typing-animation {
      display: inline-block;
      overflow: hidden;
      white-space: nowrap;
      border-right: 2px solid var(--primary-color);
      animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: var(--primary-color) }
    }

    .pulse-glow {
      animation: pulseGlow 2s infinite alternate;
    }

    @keyframes pulseGlow {
      0% {
        box-shadow: 0 0 5px rgba(233, 30, 99, 0.5);
      }
      100% {
        box-shadow: 0 0 20px rgba(233, 30, 99, 0.8);
      }
    }

    /* Ø¹Ø¯Ø§Ø¯ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ */
    .birthday-countdown {
      background: rgba(255, 255, 255, 0.15);
      padding: 1.5rem;
      border-radius: 20px;
      margin-top: 2rem;
      text-align: center;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .birthday-countdown h3 {
      margin-bottom: 1rem;
      color: var(--accent-light);
    }

    .countdown-timer {
      font-size: 1.5rem;
      font-weight: bold;
      margin: 1rem 0;
      color: var(--accent-light);
    }

    .birthday-message {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 15px;
      animation: pulseGlow 2s infinite;
    }

    /* Ø±ÙØ¹ Ø§Ù„ÙˆØ³Ø§Ø¦Ø· */
    .media-upload {
      margin-top: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(5px);
    }

    .media-upload h3 {
      text-align: center;
      margin-bottom: 1rem;
    }

    .upload-area {
      border: 2px dashed rgba(255, 255, 255, 0.3);
      border-radius: 15px;
      padding: 2rem;
      text-align: center;
      margin-bottom: 1rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .upload-area:hover {
      border-color: var(--primary-color);
      background: rgba(255, 255, 255, 0.05);
    }

    .upload-area.dragover {
      border-color: var(--primary-color);
      background: rgba(255, 255, 255, 0.1);
    }

    .upload-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .file-input {
      display: none;
    }

    .uploaded-media {
      margin-top: 2rem;
    }

    .media-item {
      position: relative;
      margin-bottom: 1rem;
      border-radius: 15px;
      overflow: hidden;
      background: rgba(0, 0, 0, 0.2);
    }

    .media-item img, .media-item video, .media-item audio {
      width: 100%;
      display: block;
    }

    .media-item audio {
      width: 100%;
      padding: 1rem;
    }

    .delete-media {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ ÙˆØ§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© */
    @media (max-width: 768px) {
      .container {
        padding: 1.5rem;
        width: 95%;
        margin: 1rem auto;
        border-radius: 20px;
      }

      #loveMessage {
        margin: 1rem 0;
      }

      .toggle-night {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
      }

      .btn {
        padding: 0.7rem 1.5rem;
        font-size: 0.9rem;
        margin: 0.3rem;
      }

      .sender-selector {
        flex-direction: column;
      }

      .gallery {
        grid-template-columns: repeat(2, 1fr);
      }

      .nav-btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
      }

      .message-input {
        min-height: 80px;
      }

      .mode-toggle-container {
        position: static;
        transform: none;
        margin-bottom: 1rem;
        width: 100%;
        text-align: center;
      }

      .toggle-night {
        margin: 0 auto;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
    @media (max-width: 480px) {
      .container {
        padding: 1rem;
        width: 98%;
        margin: 0.5rem auto;
      }

      .navigation {
        gap: 0.5rem;
      }

      .nav-btn {
        padding: 0.5rem 1rem;
        font-size: 0.8rem;
      }

      .btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.85rem;
        margin: 0.2rem;
      }

      .gallery {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
      }

      .gallery-item {
        height: 120px;
        font-size: 2.5rem;
      }

      .messages-section {
        padding: 1rem;
      }

      .upload-area {
        padding: 1rem;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‡ÙˆØ§ØªÙ ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø·ÙˆÙ„ÙŠ */
    @media (max-width: 768px) and (orientation: portrait) {
      .toggle-night {
        padding: 0.8rem;
        width: auto;
        height: auto;
        justify-content: center;
      }

      .container {
        padding: 1rem;
        margin: 0.5rem auto;
      }

      .navigation {
        gap: 0.3rem;
      }

      .nav-btn {
        padding: 0.5rem 0.8rem;
        font-size: 0.75rem;
      }

      .btn {
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
      }

      .message-input {
        min-height: 70px;
      }

      .gallery {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
      }

      .gallery-item {
        height: 100px;
        font-size: 2rem;
      }

      h1 {
        font-size: 1.5rem;
      }

      .footer {
        font-size: 0.9rem;
      }

      .love-timer {
        font-size: 0.8rem;
        padding: 0.6rem;
      }

      .message-container {
        min-height: 150px;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø·ÙˆÙ„ÙŠØ© Ø°Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
    @media (max-width: 360px) and (orientation: portrait) {
      .container {
        padding: 0.8rem;
        margin: 0.3rem auto;
      }

      .navigation {
        flex-direction: column;
        align-items: center;
      }

      .nav-btn {
        width: 90%;
        margin-bottom: 0.3rem;
      }

      .btn-container {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .btn {
        width: 90%;
        margin: 0.2rem 0;
      }

      .gallery {
        grid-template-columns: 1fr;
      }

      .gallery-item {
        height: 80px;
        font-size: 1.8rem;
      }

      .sender-selector {
        flex-direction: column;
      }

      .sender-btn {
        width: 100%;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© */
    @media (min-width: 769px) and (max-width: 1024px) {
      .container {
        max-width: 90%;
      }

      .gallery {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
    @media (min-width: 1025px) {
      .container {
        max-width: 800px;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø£Ø¯Ø§Ø¡ */
    .performance-optimize {
      will-change: transform, opacity;
      backface-visibility: hidden;
      transform: translateZ(0);
    }
  </style>
</head>
<body>
  <div class="intro-overlay" id="introOverlay">
    <div class="intro-text" id="introText">Ø£Ù‡Ù„Ø§Ù‹ Ù…Ù†ÙˆÙ† ğŸ’–</div>
    <div class="loading-bar">
      <div class="loading-progress" id="loadingProgress"></div>
    </div>
  </div>

  <div class="heart-explosion" id="heartExplosion">
    <div class="big-heart">ğŸ’–</div>
  </div>

  <div class="navigation">
    <div class="mode-toggle-container">
      <button class="toggle-night" id="nightMode">
        <span id="modeIcon">ğŸŒ™</span>
        <span id="modeText">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
      </button>
    </div>
    <button class="nav-btn active" onclick="showPage('messagesPage')">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø¨ ğŸ’Œ</button>
    <button class="nav-btn" onclick="showPage('chatPage')">Ù…Ø­Ø§Ø¯Ø«ØªÙ†Ø§ ğŸ’¬</button>
    <button class="nav-btn" onclick="showPage('memoriesPage')">Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ ğŸŒŸ</button>
  </div>

  <!-- ØµÙØ­Ø© Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø¨ -->
  <div class="container page active" id="messagesPage">
    <h1>ğŸ’– Ù…Ù† Ø¹Ø¨Ø¯Ùˆ Ø¥Ù„Ù‰ Ù…Ù†Ø© ğŸ’–</h1>
    <div class="message-container">
      <p id="loveMessage">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©...</p>
    </div>
    <div class="love-timer" id="loveTimer"></div>
    <div class="footer">ÙƒÙ„ Ù…Ø±Ø© ØªÙØªØ­ÙŠ Ø§Ù„ØµÙØ­Ø©... ØªÙ„Ø§Ù‚ÙŠ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ù‚Ù„Ø¨ ğŸ’˜</div>
    
    <div class="btn-container">
      <button class="btn" onclick="showNewMessage()">Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸ’Œ</button>
      <button class="btn" onclick="toggleMusic()" id="musicBtn">ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ğŸµ</button>
      <button class="btn" onclick="showTypingMessage()">Ø±Ø³Ø§Ù„Ø© Ù…ØªØ­Ø±ÙƒØ© âœ¨</button>
    </div>
  </div>

  <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
  <div class="container page messages-section" id="chatPage">
    <h2>ğŸ’Œ Ù…Ø­Ø§Ø¯Ø«ØªÙ†Ø§ Ø§Ù„Ø­Ù„ÙˆØ© ğŸ’Œ</h2>
    
    <div class="message-form">
      <textarea class="message-input" id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..."></textarea>
      
      <div class="sender-selector">
        <button class="sender-btn" id="senderAbdo" onclick="setSender('abdo')">Ø¹Ø¨Ø¯Ùˆ ğŸ’™</button>
        <button class="sender-btn" id="senderMenna" onclick="setSender('menna')">Ù…Ù†Ø© ğŸ’</button>
      </div>
      
      <button class="btn" onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ğŸ’–</button>
    </div>
    
    <div class="messages-list" id="messagesList">
      <!-- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
    </div>
  </div>

  <!-- ØµÙØ­Ø© Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª -->
  <div class="container page" id="memoriesPage">
    <h2>ğŸŒŸ Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© ğŸŒŸ</h2>
    
    <!-- Ø¹Ø¯Ø§Ø¯ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ -->
    <div class="birthday-countdown">
      <h3>Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ù…Ù†Ø© ğŸ‚</h3>
      <div class="countdown-timer" id="birthdayCountdown"></div>
      <div class="birthday-message" id="birthdayMessage" style="display: none;"></div>
    </div>
    
    <div class="timeline">
      <div class="timeline-event">
        <h4>Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ</h4>
        <p>31/10/2007</p>
      </div>
      <div class="timeline-event">
        <h4>Ø£ÙˆÙ„ ÙƒÙ„Ù…Ø© Ø­Ù„ÙˆØ© Ù…Ù†Ùƒ ğŸŒ¸</h4>
        <p>Ù…Ù† ÙŠÙˆÙ…Ù‡Ø§ ÙˆÙ‚Ù„Ø¨ÙŠ Ù…Ø´ Ø¨ÙŠØ±Ø¬Ø¹ Ø·Ø¨ÙŠØ¹ÙŠØŒ Ø¨Ù‚Ù‰ ÙÙŠ Ø­Ø¶Ù†Ùƒ.</p>
      </div>
      <div class="timeline-event">
        <h4>Ø£ÙˆÙ„ Ù…Ø±Ø© Ù‚ÙˆÙ„ØªÙ„Ùƒ Ø¨Ø­Ø¨Ùƒ ğŸ˜</h4>
        <p>ÙƒÙ†Øª Ù…ØªÙˆØªØ±... Ø¨Ø³ Ø§Ù„ÙƒÙˆÙ† Ø³ÙƒØª Ø¹Ø´Ø§Ù† ÙŠØ³Ù…Ø¹Ù†ÙŠ.</p>
      </div>
      <div class="timeline-event">
        <h4>ÙˆØ¹Ø¯ ğŸ’</h4>
        <p>Ù†ÙˆØ¹Ø¯ Ø¨Ø¹Ø¶ Ù†Ø¨Ù‚Ù‰ Ø³ÙˆØ§... Ø­ØªÙ‰ Ù„Ùˆ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙƒÙ„Ù‡Ø§ Ø¶Ø¯Ù†Ø§.</p>
      </div>
    </div>
    
    <!-- Ù‚Ø³Ù… Ø±ÙØ¹ Ø§Ù„ÙˆØ³Ø§Ø¦Ø· -->
    <div class="media-upload">
      <h3>ğŸ–¼ï¸ Ø£Ø¶Ù ØµÙˆØ± Ø£Ùˆ Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù„Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ ğŸµ</h3>
      <div class="upload-area" id="uploadArea">
        <div class="upload-icon">ğŸ“</div>
        <p>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</p>
        <p class="small-text">ÙŠØ¯Ø¹Ù… Ø§Ù„ØµÙˆØ± (JPG, PNG) ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ (MP3, WAV)</p>
        <input type="file" id="fileInput" class="file-input" accept="image/*,audio/*" multiple>
      </div>
      <button class="btn" onclick="document.getElementById('fileInput').click()">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„ÙØ§Øª</button>
      
      <div class="uploaded-media" id="uploadedMedia">
        <!-- Ø§Ù„ÙˆØ³Ø§Ø¦Ø· Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
      </div>
    </div>
    
    <h3 style="margin-top: 2rem; text-align: center;">Ù…Ø¹Ø±Ø¶ Ø­Ø¨Ù†Ø§ ğŸ–¼ï¸</h3>
    <div class="gallery">
      <div class="gallery-item">ğŸ’–</div>
      <div class="gallery-item">ğŸŒ¹</div>
      <div class="gallery-item">ğŸ¥°</div>
      <div class="gallery-item">ğŸ’•</div>
      <div class="gallery-item">ğŸ’˜</div>
      <div class="gallery-item">ğŸ’</div>
    </div>
  </div>

  <div class="floating-elements" id="floatingElements"></div>
  <div class="love-particles" id="loveParticles"></div>
  <div class="lightning"></div>
  <div class="stars" id="stars"></div>

  <audio loop id="bgMusic" preload="auto">
    <source src="https://cdn.pixabay.com/audio/2023/03/26/audio_1445eb3f3d.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…ÙˆØ¬ÙˆØ¯Ø© Ù‡Ù†Ø§
    const messages = [
      "Ù…Ù†Ø©ØŒ ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø­ÙŠØ§ØªÙŠ Ù‡Ùˆ Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù„ÙŠ Ø¹Ù…Ø±ÙŠ Ù…Ø§ Ù„Ù‚ÙŠØªÙ‡ ØºÙŠØ± Ù…Ø¹Ø§ÙƒÙŠ ğŸ’™",
      "Ø£Ù†Ø§ Ø¹Ø¨Ø¯ÙˆØŒ ÙˆÙƒÙ„ ÙŠÙˆÙ… Ù…Ø¹Ø§Ùƒ Ù…Ø¯Ø±Ø³Ø© Ø­Ø¨ Ø¬Ø¯ÙŠØ¯Ø© Ø¨ØªØ¹Ù„Ù‘Ù…Ù†ÙŠ Ù…Ø¹Ù†Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© â¤ï¸",
      "Ù„Ùˆ ÙƒØ§Ù† Ù‚Ù„Ø¨ÙŠ Ù…Ø¯ÙŠÙ†Ø©ØŒ ÙØ£Ù†ØªÙŠ Ø§Ù„Ø¹Ø§ØµÙ…Ø©ØŒ ÙˆÙƒÙ„ Ø§Ù„Ø·Ø±Ù‚ Ø¨ØªÙ†ØªÙ‡ÙŠ Ø¹Ù†Ø¯Ùƒ ğŸ™ï¸",
      "Ø£Ù†Ø§ Ù…Ø´ Ø¨Ø³ ÙˆÙ‚Ø¹Øª ÙÙŠ Ø­Ø¨ÙƒØŒ Ø£Ù†Ø§ ØºØ±Ù‚Øª ÙÙŠÙ‡ ÙˆØ¹Ø§ÙŠØ² Ø£Ø¹ÙŠØ´ Ø§Ù„ØºØ±Ù‚ Ø¯Ù‡ Ø·ÙˆÙ„ Ø¹Ù…Ø±ÙŠ ğŸŒŠ",
      "ÙƒÙ„ Ù„Ù…Ø³Ø© Ù…Ù†Ùƒ Ø¨ØªØ­Ø³Ø³Ù†ÙŠ Ø¥Ù†ÙŠ Ù„Ø³Ù‡ Ù…ÙˆÙ„ÙˆØ¯ Ù…Ù† Ø¬Ø¯ÙŠØ¯ ğŸ¥°",
      // ... (Ø¨Ù‚ÙŠØ© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„)
    ];

    const loveExpressions = [
      "Ø¨Ø­Ø¨Ùƒ ğŸ’•", "Ø¨Ø¹Ø´Ù‚Ùƒ ğŸ˜", "Ø¨Ù…ÙˆØª ÙÙŠÙƒ â¤ï¸", "Ø£Ù†ØªÙ Ø­ÙŠØ§ØªÙŠ ğŸŒ¹", 
      "Ù‚Ù„Ø¨ÙŠ Ù„Ùƒ ğŸ’˜", "Ø£Ù†ØªÙ Ø­Ø¨ÙŠ ğŸ¥°", "ØºÙ„Ø§Ùƒ ÙÙŠ Ø¯Ù…ÙŠ ğŸ’“", 
      "Ù…Ø§ Ø£Ø³ØªØºÙ†ÙŠ Ø¹Ù†Ùƒ ğŸ’–", "Ø£Ù†ØªÙ Ù†ØµÙŠØ¨ÙŠ ğŸ’—", "Ø¯Ù„Ø¹Ùƒ ÙØ±ÙŠØ¯ ğŸ’"
    ];

    const symbols = ["ğŸ’–", "ğŸ’˜", "ğŸ’", "ğŸ’“", "ğŸ’—", "ğŸ’•", "ğŸ’", "ğŸ’Ÿ", "â£ï¸", "ğŸŒ¸"];

    // Ø¹Ù†Ø§ØµØ± DOM
    const elements = {
      loveMessage: document.getElementById("loveMessage"),
      floatingElements: document.getElementById("floatingElements"),
      introOverlay: document.getElementById("introOverlay"),
      introText: document.getElementById("introText"),
      loadingProgress: document.getElementById("loadingProgress"),
      nightModeBtn: document.getElementById("nightMode"),
      modeIcon: document.getElementById("modeIcon"),
      modeText: document.getElementById("modeText"),
      loveTimer: document.getElementById("loveTimer"),
      bgMusic: document.getElementById("bgMusic"),
      heartExplosion: document.getElementById("heartExplosion"),
      musicBtn: document.getElementById("musicBtn"),
      stars: document.getElementById("stars"),
      messageInput: document.getElementById("messageInput"),
      messagesList: document.getElementById("messagesList"),
      senderAbdo: document.getElementById("senderAbdo"),
      senderMenna: document.getElementById("senderMenna"),
      loveParticles: document.getElementById("loveParticles"),
      birthdayCountdown: document.getElementById("birthdayCountdown"),
      birthdayMessage: document.getElementById("birthdayMessage"),
      uploadArea: document.getElementById("uploadArea"),
      fileInput: document.getElementById("fileInput"),
      uploadedMedia: document.getElementById("uploadedMedia")
    };

    // Ø­Ø§Ù„Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    const state = {
      isNightMode: false,
      isMusicPlaying: false,
      loveStartDate: new Date('2024-03-02'),
      currentSender: 'abdo',
      currentPage: 'messagesPage',
      birthdayInterval: null,
      birthdayCelebration: false
    };

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    function init() {
      simulateLoading();
      createStars();
      createParticles();
      setupEventListeners();
      setSender('abdo');
      loadMessages();
      animateTimeline();
      loadUploadedMedia();
      startBirthdayCountdown();
    }

    // Ø§Ù†ØªØ±Ùˆ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    function simulateLoading() {
      let progress = 0;
      const interval = setInterval(() => {
        progress += Math.random() * 10;
        elements.loadingProgress.style.width = `${Math.min(progress, 100)}%`;
        
        if (progress >= 100) {
          clearInterval(interval);
          setTimeout(() => {
            elements.introText.textContent = "Ø¨Ø¹Ø´Ù‚Ùƒ ğŸ˜";
            setTimeout(() => {
              elements.introOverlay.classList.add("hidden");
              showHeartExplosion();
              startApp();
            }, 1000);
          }, 300);
        }
      }, 200);
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    function startApp() {
      showRandomMessage();
      updateLoveTimer();
      setInterval(updateLoveTimer, 1000);
      createFloatingElements();
    }

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    function setupEventListeners() {
      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
      elements.nightModeBtn.addEventListener('click', toggleNightMode);
      
      // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù„Ù…Ø³
      document.addEventListener("click", handleClick);
      
      // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø£ÙˆÙ„
      document.addEventListener('click', initAudio, { once: true });
      
      // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚Ù„Ø¨
      const loveMessageObserver = new MutationObserver(() => {
        showHeartExplosion();
      });
      loveMessageObserver.observe(elements.loveMessage, { childList: true });
      
      // Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
      elements.uploadArea.addEventListener('click', () => {
        elements.fileInput.click();
      });
      
      elements.fileInput.addEventListener('change', handleFileUpload);
      
      // Ø³Ø­Ø¨ ÙˆØ¥ÙÙ„Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª
      elements.uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        elements.uploadArea.classList.add('dragover');
      });
      
      elements.uploadArea.addEventListener('dragleave', () => {
        elements.uploadArea.classList.remove('dragover');
      });
      
      elements.uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        elements.uploadArea.classList.remove('dragover');
        if (e.dataTransfer.files.length) {
          handleFiles(e.dataTransfer.files);
        }
      });
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙˆØª
    function initAudio() {
      elements.bgMusic.volume = 0.3;
      elements.bgMusic.play().catch(e => console.log("Ù„Ù… ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹"));
    }

    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    function toggleNightMode() {
      state.isNightMode = !state.isNightMode;
      document.body.classList.toggle('night-mode');
      
      if (state.isNightMode) {
        elements.modeIcon.textContent = "â˜€ï¸";
        elements.modeText.textContent = "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ";
      } else {
        elements.modeIcon.textContent = "ğŸŒ™";
        elements.modeText.textContent = "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ";
      }
      
      // ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø­Ø³Ø¨ Ø§Ù„ÙˆØ¶Ø¹
      if (state.isNightMode) {
        elements.bgMusic.src = "https://cdn.pixabay.com/audio/2022/03/15/audio_0e5c1e9a2f.mp3";
      } else {
        elements.bgMusic.src = "https://cdn.pixabay.com/audio/2023/03/26/audio_1445eb3f3d.mp3";
      }
      
      if (state.isMusicPlaying) {
        elements.bgMusic.play().catch(e => console.log("ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰"));
      }
    }

    // ØªØ¨Ø¯ÙŠÙ„ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
    function toggleMusic() {
      state.isMusicPlaying = !state.isMusicPlaying;
      
      if (state.isMusicPlaying) {
        elements.bgMusic.play();
        elements.musicBtn.textContent = "Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ğŸ”‡";
      } else {
        elements.bgMusic.pause();
        elements.musicBtn.textContent = "ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ğŸµ";
      }
    }

    // ØªØ£Ø«ÙŠØ± Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ù‚Ù„Ø¨
    function showHeartExplosion() {
      elements.heartExplosion.classList.add("active");
      setTimeout(() => {
        elements.heartExplosion.classList.remove("active");
      }, 1200);
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø¬ÙˆÙ…
    function createStars() {
      const fragment = document.createDocumentFragment();
      
      for (let i = 0; i < 100; i++) {
        const star = document.createElement("div");
        star.className = "star";
        star.style.top = `${Math.random() * 100}vh`;
        star.style.left = `${Math.random() * 100}vw`;
        star.style.animationDuration = `${Math.random() * 3 + 2}s`;
        fragment.appendChild(star);
      }
      
      elements.stars.appendChild(fragment);
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ø­Ø¨
    function createParticles() {
      const fragment = document.createDocumentFragment();
      
      for (let i = 0; i < 50; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.left = `${Math.random() * 100}vw`;
        particle.style.animationDelay = `${Math.random() * 10}s`;
        particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
        particle.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
        fragment.appendChild(particle);
      }
      
      elements.loveParticles.appendChild(fragment);
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·ÙÙˆ
    function createFloatingElements() {
      const fragment = document.createDocumentFragment();
      
      for (let i = 0; i < 30; i++) {
        setTimeout(() => {
          const element = createFloatingElement();
          fragment.appendChild(element);
          setTimeout(() => element.remove(), 15000);
        }, i * 300);
      }
      
      elements.floatingElements.appendChild(fragment);
      
      // Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø¬Ø¯ÙŠØ¯Ø©
      setInterval(() => {
        const element = createFloatingElement();
        elements.floatingElements.appendChild(element);
        setTimeout(() => element.remove(), 15000);
      }, 800);
      
      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ù‡Ø§Ø¨ Ø¨ÙŠÙ† Ø§Ù„Ø­ÙŠÙ† ÙˆØ§Ù„Ø¢Ø®Ø±
      setInterval(createShootingStar, 8000);
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø·ÙÙˆ ÙˆØ§Ø­Ø¯
    function createFloatingElement() {
      const element = document.createElement("div");
      element.className = "floating-element performance-optimize";
      element.textContent = symbols[Math.floor(Math.random() * symbols.length)];
      element.style.left = `${Math.random() * 100}vw`;
      element.style.fontSize = `${Math.random() * 20 + 15}px`;
      element.style.animationDuration = `${Math.random() * 10 + 10}s`;
      element.style.animationDelay = `${Math.random() * 5}s`;
      return element;
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø´Ù‡Ø§Ø¨
    function createShootingStar() {
      const star = document.createElement('div');
      star.className = 'shooting-star performance-optimize';
      document.body.appendChild(star);
      setTimeout(() => star.remove(), 2000);
    }

    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
    function showRandomMessage() {
      const message = messages[Math.floor(Math.random() * messages.length)];
      elements.loveMessage.textContent = message;
    }

    // Ø²Ø± Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
    function showNewMessage() {
      showRandomMessage();
    }

    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù…ØªØ­Ø±ÙƒØ©
    function showTypingMessage() {
      const message = messages[Math.floor(Math.random() * messages.length)];
      elements.loveMessage.textContent = "";
      elements.loveMessage.classList.remove("typing-animation");
      
      setTimeout(() => {
        elements.loveMessage.classList.add("typing-animation");
        let i = 0;
        const typingInterval = setInterval(() => {
          if (i < message.length) {
            elements.loveMessage.textContent += message.charAt(i);
            i++;
          } else {
            clearInterval(typingInterval);
            setTimeout(() => {
              elements.loveMessage.classList.remove("typing-animation");
            }, 1000);
          }
        }, 50);
      }, 100);
    }

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø¨
    function updateLoveTimer() {
      const now = new Date();
      const diff = now - state.loveStartDate;
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      elements.loveTimer.innerHTML = `
        â¤ï¸ Ù…Ø¯Ø© Ø­Ø¨Ù†Ø§: ${days} ÙŠÙˆÙ… ${hours} Ø³Ø§Ø¹Ø© ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© ${seconds} Ø«Ø§Ù†ÙŠØ© â¤ï¸
        <br>Ù…Ù†Ø° 2 Ù…Ø§Ø±Ø³ 2024
      `;
    }

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù„Ù…Ø³
    function handleClick(e) {
      const touchEffect = document.createElement("div");
      touchEffect.className = "touch-effect performance-optimize";
      touchEffect.textContent = loveExpressions[Math.floor(Math.random() * loveExpressions.length)];
      touchEffect.style.left = `${e.clientX}px`;
      touchEffect.style.top = `${e.clientY}px`;
      document.body.appendChild(touchEffect);
      
      setTimeout(() => {
        touchEffect.remove();
      }, 1500);
    }

    // Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø§Øª
    function showPage(pageId) {
      // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      document.getElementById(pageId).classList.add('active');
      
      // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
      document.querySelector(`.nav-btn[onclick="showPage('${pageId}')"]`).classList.add('active');
      
      state.currentPage = pageId;
      
      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ØµÙØ­Ø© Ø§Ù„Ø°ÙƒØ±ÙŠØ§ØªØŒ Ù‚Ù… Ø¨ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø· Ø§Ù„Ø²Ù…Ù†ÙŠ
      if (pageId === 'memoriesPage') {
        animateTimeline();
      }
    }

    // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø®Ø· Ø§Ù„Ø²Ù…Ù†ÙŠ
    function animateTimeline() {
      const timelineEvents = document.querySelectorAll('.timeline-event');
      timelineEvents.forEach((event, index) => {
        setTimeout(() => {
          event.classList.add('animated');
        }, index * 300);
      });
    }

    // Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    function setSender(sender) {
      state.currentSender = sender;
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      if (sender === 'abdo') {
        elements.senderAbdo.classList.add('active');
        elements.senderMenna.classList.remove('active');
      } else {
        elements.senderMenna.classList.add('active');
        elements.senderAbdo.classList.remove('active');
      }
    }

    // Ø¹Ø¯Ø§Ø¯ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
    function startBirthdayCountdown() {
      updateBirthdayCountdown();
      state.birthdayInterval = setInterval(updateBirthdayCountdown, 1000);
    }

    function updateBirthdayCountdown() {
      const now = new Date();
      const currentYear = now.getFullYear();
      let birthday = new Date(currentYear, 9, 31); // 31 Ø£ÙƒØªÙˆØ¨Ø± (Ø§Ù„Ø´Ù‡Ø± ÙŠØ¨Ø¯Ø£ Ù…Ù† 0)

      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø§Ù… Ù‚Ø¯ Ù…Ø±ØŒ Ù†Ù†ØªØ¸Ø± Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…
      if (now > birthday) {
        birthday = new Date(currentYear + 1, 9, 31);
      }

      const diff = birthday - now;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      if (elements.birthdayCountdown) {
        elements.birthdayCountdown.innerHTML = `
          ğŸ‰ Ù…ØªØ¨Ù‚ÙŠ ${days} ÙŠÙˆÙ… ${hours} Ø³Ø§Ø¹Ø© ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© ${seconds} Ø«Ø§Ù†ÙŠØ© ğŸ‰
        `;
      }

      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
      if (days === 0 && hours === 0 && minutes < 1) {
        if (!state.birthdayCelebration) {
          state.birthdayCelebration = true;
          celebrateBirthday();
        }
      } else {
        state.birthdayCelebration = false;
        if (elements.birthdayMessage) {
          elements.birthdayMessage.style.display = 'none';
        }
      }
    }

    function celebrateBirthday() {
      if (elements.birthdayMessage) {
        elements.birthdayMessage.style.display = 'block';
        elements.birthdayMessage.innerHTML = `
          <h4>ÙƒÙ„ Ø³Ù†Ø© ÙˆØ§Ù†ØªÙŠ Ø·ÙŠØ¨Ø© ÙŠ Ø±ÙˆØ­ Ù‚Ù„Ø¨ÙŠ ğŸ‚ğŸ’–</h4>
          <p>ÙˆØ¹Ù‚Ø¨Ø§Ù„ Ø³Ù†ÙŠÙ† ÙƒØªÙŠØ±Ø© ÙØ±Ø­Ø§Ù†Ø© ÙˆÙ…Ø¨Ø³ÙˆØ·Ø© ÙÙŠÙ‡Ø§ ÙˆÙƒÙ„ Ø³Ù†Ø© ÙˆØ§Ø­Ù†Ø§ Ù…Ø¹ Ø¨Ø¹Ø¶ ÙˆÙ…ÙƒÙ…Ù„ÙŠÙ† Ù…Ø¹ Ø¨Ø¹Ø¶ ğŸ’•</p>
        `;
      }
      
      // ØªÙØ¹ÙŠÙ„ Ø§Ù†ÙØ¬Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ù„ÙˆØ¨
      const celebrationInterval = setInterval(() => {
        showHeartExplosion();
        createFloatingElement();
      }, 500);
      
      setTimeout(() => {
        clearInterval(celebrationInterval);
      }, 10000);
    }

    // Ø±ÙØ¹ Ø§Ù„ÙˆØ³Ø§Ø¦Ø·
    function handleFileUpload(e) {
      handleFiles(e.target.files);
    }

    function handleFiles(files) {
      for (let file of files) {
        if (file.type.startsWith('image/') || file.type.startsWith('audio/')) {
          uploadMedia(file);
        } else {
          alert('Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…. ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£Ùˆ Ù…Ù„Ù ØµÙˆØªÙŠ.');
        }
      }
    }

    function uploadMedia(file) {
      const reader = new FileReader();
      
      reader.onload = function(e) {
        const mediaData = {
          id: Date.now().toString(),
          name: file.name,
          type: file.type,
          data: e.target.result,
          timestamp: new Date().toISOString()
        };
        
        saveMediaToStorage(mediaData);
        displayMedia(mediaData);
      };
      
      reader.readAsDataURL(file);
    }

    function saveMediaToStorage(mediaData) {
      let mediaList = JSON.parse(localStorage.getItem('loveMedia')) || [];
      mediaList.push(mediaData);
      localStorage.setItem('loveMedia', JSON.stringify(mediaList));
    }

    function loadUploadedMedia() {
      const mediaList = JSON.parse(localStorage.getItem('loveMedia')) || [];
      mediaList.forEach(media => {
        displayMedia(media);
      });
    }

    function displayMedia(media) {
      const mediaItem = document.createElement('div');
      mediaItem.className = 'media-item';
      mediaItem.dataset.id = media.id;
      
      if (media.type.startsWith('image/')) {
        mediaItem.innerHTML = `
          <button class="delete-media" onclick="deleteMedia('${media.id}')">Ã—</button>
          <img src="${media.data}" alt="${media.name}">
        `;
      } else if (media.type.startsWith('audio/')) {
        mediaItem.innerHTML = `
          <button class="delete-media" onclick="deleteMedia('${media.id}')">Ã—</button>
          <audio controls>
            <source src="${media.data}" type="${media.type}">
            Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠØ§Øª
          </audio>
        `;
      }
      
      elements.uploadedMedia.appendChild(mediaItem);
    }

    function deleteMedia(id) {
      let mediaList = JSON.parse(localStorage.getItem('loveMedia')) || [];
      mediaList = mediaList.filter(media => media.id !== id);
      localStorage.setItem('loveMedia', JSON.stringify(mediaList));
      
      const mediaElement = document.querySelector(`.media-item[data-id="${id}"]`);
      if (mediaElement) {
        mediaElement.remove();
      }
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    window.addEventListener('DOMContentLoaded', init);
  </script>

<!-- Firebase Config -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getFirestore, collection, addDoc, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";

  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDz8zQWojljzEKQr6Dd33gPa7JpqAPruyM",
    authDomain: "love-5555.firebaseapp.com",
    projectId: "love-5555",
    storageBucket: "love-5555.firebasestorage.app",
    messagingSenderId: "65220863795",
    appId: "1:65220863795:web:41d642cd50117fe1e18046",
    measurementId: "G-J2ZQE1TWSM"
  };

  // ØªØ´ØºÙŠÙ„ Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getFirestore(app);

  // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
  async function sendMessage() {
    const messageText = elements.messageInput.value.trim();
    if (!messageText) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");

    try {
      await addDoc(collection(db, "messages"), {
        text: messageText,
        sender: state.currentSender,
        timestamp: new Date()
      });

      elements.messageInput.value = "";
      showHeartExplosion();
    } catch (err) {
      console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", err);
      alert("Ø­ØµÙ„ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
    }
  }

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Firestore
  function loadMessages() {
    const q = query(collection(db, "messages"), orderBy("timestamp", "desc"));
    onSnapshot(q, (snapshot) => {
      elements.messagesList.innerHTML = "";
      snapshot.forEach((doc) => {
        displayMessage(doc.data());
      });
    });
  }

  function displayMessage(message) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `message-item ${message.sender === 'abdo' ? 'message-from-abdo' : 'message-from-menna'}`;
    
    const senderName = message.sender === 'abdo' ? 'Ø¹Ø¨Ø¯Ùˆ ğŸ’™' : 'Ù…Ù†Ø© ğŸ’';
    
    let timestampText = "Ø§Ù„Ø¢Ù†";
    if (message.timestamp) {
      try {
        const date = message.timestamp.toDate();
        timestampText = date.toLocaleString('ar-EG');
      } catch (e) {
        console.log("timestamp Ù…Ø´ ØªØ§Ø±ÙŠØ®:", message.timestamp);
      }
    }

    messageDiv.innerHTML = `
      <div class="message-header">
        <span class="message-sender">${senderName}</span>
        <span class="message-time">${timestampText}</span>
      </div>
      <div class="message-content">${message.text}</div>
    `;
    
    elements.messagesList.prepend(messageDiv);
  }

  // Ø§Ø³ØªØ¨Ø¯Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¨Ù†ÙØ³ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
  window.sendMessage = sendMessage;
  window.loadMessages = loadMessages;
</script>

</body>
</html>